<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>Calculadora Gastos Viaje | @CaraColaViajes</title>
  <style>
    :root {
      --primary: #af1a25;     /* Tu rojo principal */
      --primary-light: #c23a44;
      --glass: rgba(255,255,255,0.08);
      --text: #ffffff;
      --text-soft: #eeeeee;
      --border: rgba(255,255,255,0.15);
    }
    * { margin:0; padding:0; box-sizing:border-box; }
    body {
      background: var(--primary);
      color: var(--text);
      font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
      min-height: 100vh;
      padding: 20px 10px;
      background-image: linear-gradient(135deg, #af1a25 0%, #8b151e 100%);
    }
    .container { max-width: 420px; margin: 0 auto; display:flex; flex-direction:column; min-height: 100vh; }
    h1 {
      font-size: 2.5rem;
      text-align: center;
      margin-bottom: 6px;
      font-weight: 800;
    }
    .by {
      text-align:center;
      font-size:1.35rem;
      margin-bottom:25px;
      color: var(--text-soft);
    }
    .by span { color:white; font-weight:bold; }
    .glass {
      background: var(--glass);
      backdrop-filter: blur(14px);
      border-radius: 24px;
      padding: 28px;
      border: 1px solid var(--border);
      flex: 1;
      display:flex;
      flex-direction:column;
      box-shadow: 0 8px 32px rgba(0,0,0,0.3);
    }
    input, button {
      background: rgba(255,255,255,0.12);
      border: 1px solid var(--border);
      border-radius: 14px;
      padding: 16px;
      color: white;
      font-size: 1.1rem;
    }
    input::placeholder { color: rgba(255,255,255,0.6); }
    input:focus { outline: 2px solid white; }
    .grid { display:grid; grid-template-columns:1fr 1fr; gap:14px; margin-bottom:24px; }
    .category {
      display:flex; gap:12px; align-items:center;
      background:rgba(255,255,255,0.08);
      padding:14px; border-radius:14px; margin-bottom:12px;
      border:1px solid var(--border);
    }
    .category input[type=text] { flex:1; background:transparent; border:none; outline:none; }
    .category input[type=number] { width:100px; text-align:right; }
    .add {
      border:2px dashed rgba(255,255,255,0.4);
      background:transparent;
      cursor:pointer;
      font-weight:600;
      transition:0.2s;
    }
    .add:hover { background:rgba(255,255,255,0.1); }
    .totales { margin-top:auto; padding-top:24 Kaborder-top:1px solid var(--border); }
    .totales div { display:flex; justify-content:space-between; margin-bottom:12px; font-size:1.1rem; }
    .big { font-size:1.8rem; font-weight:900; color:white; }
    .copy {
      margin-top:24px;
      background: white;
      color: var(--primary) !important;
      font-weight:900;
      cursor:pointer;
      transition:0.3s;
    }
    .copy:hover { transform:scale(1.04); }
    .delete { color:#ff6b6b; cursor:pointer; font-size:1.4rem; }
    footer { text-align:center; margin-top:20px; font-size:0.85rem; opacity:0.7; }
    svg { width:22px; height:22px; stroke:currentColor; stroke-width:2.3; fill:none; stroke-linecap:round; stroke-linejoin:round; }
  </style>
</head>
<body>
<div class="container">
  <h1>Calculadora de Gastos</h1>
  <div class="by">by <span>@CaraColaViajes</span> üöê</div>

  <div class="glass">
    <div class="grid">
      <input type="number" id="days" placeholder="D√≠as" value="7"/>
      <input type="number" id="people" placeholder="Personas" value="2"/>
    </div>

    <div id="categories"></div>

    <button class="add" id="addCategory">
      <svg><path d="M12 5v14M5 12h14"/></svg> A√±adir categor√≠a
    </button>

    <div class="totales">
      <div><span>Total viaje</span><span id="total" class="big">0‚Ç¨</span></div>
      <div><span>Por persona</span><span id="perPerson">0‚Ç¨</span></div>
      <div><span>Por d√≠a</span><span id="perDay">0‚Ç¨</span></div>
    </div>

    <button class="copy" id="copy">
      <svg><path d="M8 4H6a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2v-2M16 4h4a2 2 0 0 1 2 2v4M21 14L10 3M10 3H7a2 2 0 0 0-2 2v3"/></svg>
      COPIAR RESUMEN
    </button>
  </div>

  <footer>¬© 2025 @CaraColaViajes ‚Äì Hecha con ‚ù§Ô∏è y kil√≥metros</footer>
</div>

<svg style="display:none">
  <defs>
    <symbol id="plus"><path d="M12 5v14M5 12h14"/></symbol>
    <symbol id="trash"><path d="M3 6h18M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2M10 11v6M14 11v6M5 6l1 12a2 2 0 0 0 2 2h8a2 2 0 0 0 2-2l1-12"/></symbol>
    <symbol id="copy"><path d="M8 4H6a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2v-2M16 4h4a2 2 0 0 1 2 2v4M21 14L10 3M10 3H7a2 2 0 0 0-2 2v3"/></symbol>
  </defs>
</svg>

<script>
  const data = JSON.parse(localStorage.getItem('caracolaCalc_v3')) || {
    days: 7, people: 2,
    items: [
      {name:"Gasolina ‚õΩ",amount:0},
      {name:"Peajes",amount:0},
      {name:"Campings / √Åreas",amount:0},
      {name:"Comida y supermercado",amount:0},
      {name:"Actividades",amount:0},
      {name:"Otros / imprevistos",amount:0}
    ]
  };

  const cats = document.getElementById('categories');
  document.getElementById('days').value = data.days;
  document.getElementById('people').value = data.people;

  function render() {
    cats.innerHTML = '';
    data.items.forEach((it,i)=>{
      const div = document.createElement('div');
      div.className = 'category';
      div.innerHTML = `
        <input type="text" value="${it.name}" data-i="${i}" data-f="name">
        <input type="number" value="${it.amount}" data-i="${i}" data-f="amount">
        <div class="delete" onclick="borrar(${i})">
          <svg><use href="#trash"/></svg>
        </div>
      `;
      cats.appendChild(div);
    });
    calc();
  }

  function calc() {
    const days = +document.getElementById('days').value || 1;
    const people = +document.getElementById('people').value || 1;
    const total = data.items.reduce((s,x)=>s+(+x.amount||0),0);
    document.getElementById('total').textContent = total.toFixed(0)+'‚Ç¨';
    document.getElementById('perPerson').textContent = (total/people).toFixed(0)+'‚Ç¨';
    document.getElementById('perDay').textContent = (total/days).toFixed(0)+'‚Ç¨';
    data.days = days; data.people = people;
    localStorage.setItem('caracolaCalc_v3', JSON.stringify(data));
  }

  window.borrar = i => { data.items.splice(i,1); render(); };

  document.getElementById('addCategory').onclick = () => {
    data.items.push({name:"Nueva categor√≠a", amount:0});
    render();
  };

  cats.addEventListener('input', e => {
    if (!e.target.dataset.i) return;
    const i = e.target.dataset.i;
    const f = e.target.dataset.f;
    data.items[i][f] = f==='amount' ? +e.target.value||0 : e.target.value;
    calc();
  });

  document.getElementById('days').addEventListener('input',calc);
  document.getElementById('people').addEventListener('input',calc);

  document.getElementById('copy').onclick = () => {
    const days = document.getElementById('days').value || 1;
    const people = document.getElementById('people').value || 1;
    const total = data.items.reduce((s,x)=>s+(+x.amount||0),0);
    const texto = `Presupuesto viaje ‚Äì @CaraColaViajes\n\n` +
      data.items.filter(x=>x.amount>0).map(x=>`${x.name}: ${x.amount}‚Ç¨`).join('\n') +
      `\n\nTOTAL: ${total}‚Ç¨\nPor persona: ${(total/people).toFixed(0)}‚Ç¨\nPor d√≠a: ${(total/days).toFixed(0)}‚Ç¨`;
    
    navigator.clipboard.writeText(texto).then(()=>alert('¬°Resumen copiado!'));
  };

  render();
</script>
</body>
</html>
